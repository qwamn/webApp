angular.module("app",["ui.router"]),angular.module("app").controller("AppController",["$scope","$window","$location",function(t,e,a){t.webTitle="每日一刻",t.$on("tab_notifice",function(e,a){t.id=a.key}),t.back=function(){e.history.back()},t.location=a,t.hide=!1,t.$watch("location.url()",function(e,a){var o=e.toString().indexOf("detail");t.hide=-1!=o})}]),angular.module("app").controller("DetailController",["$scope","$stateParams",function(t,e){t.item=t.listData.posts[e.id]}]),angular.module("app").controller("HomeController",["$scope","appHttp",function(t,e){e.jsonp("http://127.0.0.1/angular/api/home.php",null,function(e){t.listData=e.data},function(t){console.log(t)})}]),angular.module("app").controller("TabbarController",["$scope",function(t){t.navTitle="首 页",t.id=0,t.tabChange=function(e){var a=["首 页","作 者","栏 目","我"];t.navTitle=a[e],t.id=e,t.$emit("tab_notifice",{key:e})}}]),angular.module("app").config(["$stateProvider","$urlRouterProvider",function(t,e){t.state("home",{url:"/home",views:{home:{templateUrl:"../views/home_tpl.html",controller:"HomeController"},author:{template:"<h1>author</h1>"},content:{template:"<h1>content</h1>"},my:{template:"<h1>my</h1>"}}}).state("home.list",{url:"/list",templateUrl:"../views/list_tpl.html"}).state("home.detail",{url:"/detail/:id",template:"<detail></detail>",controller:"DetailController"}),e.otherwise("home/list")}]),angular.module("app").config(["$sceDelegateProvider",function(t){t.resourceUrlWhitelist(["self","http://127.0.0.1/angular/api/**"])}]),angular.module("app").service("appHttp",["$http",function(t){this.jsonp=function(e,a,o,l){t({url:e,method:"jsonp",params:a}).then(function(t){o&&o(t)}).catch(function(t){l&&l(t)})},this.getData=function(){t({url:url,method:"get",params:params}).then(function(t){success&&success(t)}).catch(function(t){error&&error(t)})},this.postData=function(){t({url:url,method:"post",data:data,headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(t){success&&success(t)}).catch(function(t){error&&error(t)})}}]),angular.module("app").directive("detail",function(){return{restrict:"EA",template:'<div class="detail"><div ui-view></div></div>',replace:!0,link:function(t,e,a){e.html(t.item.content)}}}),angular.module("app").directive("navs",function(){return{restrict:"EA",templateUrl:"../views/nav_tpl.html"}}),angular.module("app").directive("tabbar",function(){return{restrict:"EA",templateUrl:"../views/tabbar_tpl.html",controller:"TabbarController",replace:!0,link:function(t,e,a){var o=e.children().children();t.$watch("id",function(){for(var e=0;e<o.length;e++)o[e].className="";o[t.id].className="curr"})}}});